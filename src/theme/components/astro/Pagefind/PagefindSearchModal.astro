---
import PagefindTemplates from './PagefindTemplates.astro'
---

<script>
	import './PagefindMask'
	import './PagefindSearchInput'
	import './PagefindSearchResults'
	import './PagefindSearchResultItem'
</script>

<pagefind-mask
	data-blur="true"
	class="fixed inset-0 bg-black/50 z-100 backdrop-blur-sm hidden"
>
	<div
		class="fixed inset-0 flex justify-center pt-10 sm:pt-20 px-4 pointer-events-none"
	>
		<pagefind-search-input class="w-full max-w-2xl">
			<div
				class="glassmorphism rounded-2xl shadow-2xl flex flex-col max-h-[calc(100vh-180px)] pointer-events-auto"
			>
				<!-- Search Input -->
				<div class="p-4 sm:p-6 border-b border-gray-300 dark:border-gray-700">
					<div class="relative flex items-center gap-3">
						<input
							type="text"
							class="flex-1 text-2xl bg-transparent border-none outline-none text-gray-900 dark:text-gray-100 placeholder-gray-400"
							placeholder="Search Content..."
							autofocus
						/>
						<button class="cursor-pointer rounded-full hover:shadow-lg">
							<i
								class="icon-[mdi--close] size-6 transition-transform hover:rotate-180"
							></i>
						</button>
					</div>
				</div>

				<!-- Search Results -->
				<div class="pt-2 px-1 overflow-y-auto no-scrollbar">
					<pagefind-search-results> </pagefind-search-results>
				</div>
			</div>
		</pagefind-search-input>
	</div>
</pagefind-mask>

<PagefindTemplates />
